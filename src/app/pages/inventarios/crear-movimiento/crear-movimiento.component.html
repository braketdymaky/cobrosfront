
<div class="header bg-gradient-danger py-7 py-lg-8">

  <div class="container mt--10 ">
    <!-- Table -->
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">Crear cliente</h3>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="col-md-4 mb-3">
            <div *ngIf="!isEdit">
              <h6 class="heading-small text-muted mb-4">Debes Seleccionar una ruta para cargar los clientes</h6>
              <label for="rutasx">Selecciona una ruta</label>
              <select id="rutasx" class="browser-default custom-select" (change)="onBuscarSelect()" [(ngModel)]="select">
                <option *ngFor="let ruta of rutas" value="{{ ruta.id }}">{{ ruta.ciudad }}</option>
              </select>
            </div>
          </div>
          <form class="needs-validation" novalidate [formGroup]="movimientoFrom" >
            <h6 class="heading-small text-muted mb-4">Registrar Movimientos</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-md-4 mb-3"  *ngIf="!isEdit">
                  <div>
                    <label for="producto">Producto</label>
                    <select id="producto" class="browser-default custom-select" (click)="updateTotal()" formControlName="producto">
                      <option value=""  selected>Seleciona un producto</option>
                      <option *ngFor="let productox of productos" value="{{ productox.id }}">{{ productox.nombre }}</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div>
                    <label for="vendedor">Vendedor</label>
                    <select id="vendedor" class="browser-default custom-select" formControlName="vendedor">
                      <option value=""  selected>Seleciona un vendedor</option>
                      <option *ngFor="let ved of vendedores" value="{{ ved.id }}">{{ ved.nombre }}</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="form-control-label" for="input-ingreso">Fecha Entrega</label>
                    <div class="input-group">

                      <input class="form-control" id="input-ingreso" placeholder="yyyy-mm-dd"
                             name="dp" formControlName="fchEntrega" ngbDatepicker (click)="d.toggle()"  #d="ngbDatepicker">

                    </div>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div>
                    <label for="inputState">Seleccionar estado</label>
                    <select id="inputState" class="browser-default custom-select" formControlName="estado">
                      <option  value="" selected>selecciona un estado</option>
                      <option value="ENTREGADO">ENTREGADO</option>
                      <option value="RETIRADO">RETIRADO</option>
                      <option value="PERDIDO">PERDIDO</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4 mb-3"  *ngIf="!isEdit">
                  <div>
                    <label for="cliente">Selecciona un cliente</label>
                    <select id="cliente" class="browser-default custom-select" formControlName="cliente">
                      <option value=""  selected>Seleciona una cliente</option>
                      <option *ngFor="let client of clientes" value="{{ client.id }}">{{ client.codigo }} - {{client.nombre}}</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-6"  *ngIf="!isEdit">
                  <div class="form-group">
                    <label class="form-control-label" for="input-saldo">Cantidad</label>
                    <input type="number" id="input-saldo" (change)="updateTotal()" name="sa" class="form-control form-control-alternative" formControlName="cantidadProducto"  >
                  </div>
                </div>
                <div class="col-lg-6"  *ngIf="!isEdit">
                  <div class="form-group">
                    <label class="form-control-label" for="input-deuda">Total</label>
                    <input type="number" id="input-deuda"  name="de" class="form-control form-control-alternative"  formControlName="totalPrecio"  >
                  </div>
                </div>

              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-outline-success" [disabled]="!movimientoFrom.valid" [disabled]="!onrun" (click)="onSave()">Guardar</button>
              <button type="submit" class="btn btn-outline-danger" routerLink="/inventarios">Cancelar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

